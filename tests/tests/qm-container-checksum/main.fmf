summary: Validate that the QM container checksum is correct after image build
description: |
  Builds an AIB image and verifies the QM container checksum via the `auto-boot-check` service.
  The test boots the image with `automotive-image-runner`, waits for SSH on port 2222, and checks
  `systemctl is-active auto-boot-check`. On failure, the journal is collected and the checksum
  mismatch line is extracted to show the actual and expected values.

  Test inputs:
    Custom manifest, which defined minimal image with qm partition enabled.

  Expected results:
    - PASS: 'auto-boot-check is active and the QM container checksum matches the expected value.'

  Results location:
    auto-boot-check.log

require:
  - qemu-kvm
  - expect
  - socat
tag: [special]
duration: 60m
id: e74f0852-4f66-4116-9cf8-563db2873aef
