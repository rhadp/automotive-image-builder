summary: Verify various operation with custom files and directories
description: |
  Builds an AIB image with custom files using direct paths and glob patterns,
  and verifies their presence in the output image according to the configured behavior.
  Also tests that invalid top-level paths are properly rejected during validation.
  Also some files are added with custom ownership and permissions, so the test
  verifies that both default and custom ownership and permissions are assigned
  correctly.
  Also some files are marked for removal, so the test verifies that they
  are not present in the built image.
  Also symbolic links are created to test symlink creation functionality.

  Test inputs:
    - Custom a-i-b manifest with files in allowed directories (/etc, /var)
    - Invalid manifests with custom top-level directories and root-level files

  Expected results:
    - PASS: 'Image contains all required files'
    - PASS: 'All file permissions, ownerships, and symlinks are correctly set.'
    - PASS: 'Files marked for removal are not present in the image.'
    - PASS: 'Build failed as expected for custom top-level directory'
    - PASS: 'Build failed as expected for root-level file'
    - PASS: 'Path validation correctly rejects invalid paths'

  Results location:
    output.txt

duration: 60m
id: 37533dc0-8491-4ee0-bf26-8aebb674ed3e
